(function(e,t,n){"use strict";function xt(){var t=300;W.css(L,vt);ot.css(L,vt);gt=Math.floor(W.offset().top+W.outerHeight(!0)-100);W.attr(x,gt);yt=Math.floor(W.offset().top);X.attr(S,yt);et.each(function(n){var r=e(this),i=r.attr(w),s=r.find(c);r.css("z-index",t++);r.attr(S,Math.floor(r.offset().top)-42);r.attr(x,parseInt(r.attr(S),10)+parseInt(r.outerHeight(!0),10));s.each(function(){var t=e(this),n=t.find(b);t.attr(S,Math.floor(t.offset().top)-62);t.attr(x,parseInt(t.attr(S),10)+parseInt(t.outerHeight(!0),10))})})}function Tt(){St=H.scrollTop();St=St?St:0;St>=X.attr(S)&&W.attr(x)>=St?X.addClass(k).removeClass(r):St>=X.attr(S)&&W.attr(x)<=St?X.addClass(k).addClass(r):X.removeClass(r).removeClass(k);et.each(function(){var t=e(this),n=t.find(c),r=t.find(y),i=r.text(),o=t.attr(S),u=t.attr(x),a=n.eq(0).text();if(it!==i){if(St>=o&&u>=St){it=i;st=a;V.text(i);$.text(a);return!1}}else n.each(function(){var t=e(this),n=t.attr(S),r=t.attr(x),i=t.find(h),o=i.text();if(st!==o&&St>=n&&r>=St){st=o;$.text(o).addClass(s);setTimeout(function(){$.removeClass(s)},500);return!1}})})}function Nt(t){var n=H.innerWidth(),r=R.find(E),i=J.find(E),s='<li id="logo" data-project="contact"><a href="#contact" title="Zach Stubenvoll" id="zach">Zach Stubenvoll</a><a href="mailto:zachstubenvoll@me.com" title="For Hire" id="for-hire"><b>For Hire</b></a></li>';if(r.length<=0&&i.length<=0){et.each(function(t){var n=e(this),r=n.attr(w),i=n.find(c),s=n.find(y),o=s.text(),u=s.attr("nav-title"),a=u!==undefined?u:s.text();n.attr(S,Math.floor(n.offset().top)-42);n.attr(x,n.attr(S)+n.outerHeight(!0));R.append('<li data-project="'+r+'"><a href="#'+r+'" title="'+a+'">'+o+"</a></li>");J.append('<li data-project="'+r+'"><a href="#'+r+'" title="'+a+'">'+a+"</a></li>")});R.find(E).eq(4).before(s)}if(n>767){R.find(E).css({height:t+T});at.css({height:t-t/3+T});ft.css(v,t-t/3+50+T);lt.css(v,t-50+T);q.addClass(C);ut.addClass(C);W.removeClass(m);ot.removeClass(m);rt.each(function(){var t=e(this);t.find("b").length||t.append("<b>close</b>")})}else{dt.css(v,o);ft.css(v,o);lt.css(v,o)}}function Ct(n){var r=e(d+n),i=r.offset().top;F.animate({scrollTop:i},300);Tt();try{t._gaq.push([O,_,M,n.attr(w)])}catch(s){}}function kt(n){j.append('<div id="modal"><a class="close" href="#" title="Close">Close</a></div>');bt=e("#modal");var r=new t.Image;r.onload=function(){bt.prepend(r);wt=bt.find(b);Lt();wt.click(function(e){e.stopPropagation()});bt.addClass(C)};r.src=n;B.addClass(p);bt.find(".close").click(function(e){e.preventDefault()});bt.click(function(){At()})}function Lt(){wt||(wt=bt.find(b));if(wt.height()<H.height()){wt.addClass(a);wt.css({marginTop:"-"+wt.height()/2+T,marginLeft:"-"+wt.width()/2+T})}else{wt.removeClass(a);wt.css({marginTop:"0px",marginLeft:"auto"})}}function At(){if(bt.length>0){B.removeClass(p);bt.removeClass(C).addClass(m);setTimeout(function(){bt.remove()},200);H.off("resize",Lt)}}var r="about",i="alt",s="animate",o="auto",u="b",a="centered",f="contact",l="div",c="figure",h="figcaption",p="fixed",d="#",v="height",m="hide",g="href",y="h2",b="img",w="id",E="li",S="data-offset-top",x="data-offset-bottom",T="px",N="data-project",C="show",k="stay",L="top",A="ul",O="_trackEvent",M="Scroll to section",_="Zach Stubenvoll",D=function(){},P=t.console||{log:D,warn:D,error:D},H=e(t),B=e("html"),j=e("body"),F=B.add(j),I=e("nav"),q=e("#main-nav"),R=q.find("ul"),U=e("#zach"),z=R.find("li"),W=e("#main"),X=W.find("#main-header"),V=X.find("h2 b"),$=X.find("h2 strong"),J=X.find("h2 ul"),K=J.find("li"),Q=e("#contact-me"),G=X.find("h1"),Y=X.find("h2 i"),Z=Q.find("i"),et=W.find("ol li"),tt=et.find("h2"),nt=et.find("img"),rt=et.find("article"),it="",st="",ot=e("#contact"),ut=ot.find("#contact-nav"),at=ut.find("li"),ft=ot.find("#footer-header"),lt=ot.find("p"),ct=ot.find("#credits"),ht=ct.find("i"),pt=e(".modal"),dt=I.find("li"),vt=t.innerHeight,mt=vt/3,gt,yt,bt,wt,Et,St=0;pt.on("click",function(t){t.preventDefault();kt(e(this).attr("data-image"))});e(n.documentElement).keyup(function(e){e.keyCode===27&&At()});ht.click(function(){B.addClass(p);j.append('<div id="party-mode"><b></b></div>');Et=e("#party-mode");Et.addClass(C);Et.on("click",function(){e(this).removeClass(C);B.removeClass(p)})});Z.click(function(e){e.preventDefault();Ct(f)});Y.click(function(t){t.preventDefault();e(this).parent().find(A).toggleClass(C)});G.click(function(e){e.preventDefault();F.animate({scrollTop:0},600)});Q.click(function(e){e.preventDefault();Ct(f)});J.on("click",E,function(t){var n=e(this);t.preventDefault();n.closest(A).toggleClass(C);Ct(n.attr(N))});q.on("click","a",function(t){var n=e(this);if(n.attr(w)!=="for-hire"){t.preventDefault();Ct(n.closest(E).attr(N))}});U.on("click",E,function(e){e.preventDefault();Ct(f)});rt.on("click","b",function(){e(this).closest("article").removeClass(C)});nt.click(function(){e(this).find("+ article").addClass(C)});tt.click(function(){var t=e(this),n=t.closest(E).find(c);t.toggleClass(C);n.each(function(){var t=e(this);t.toggleClass(C)})});H.resize(function(){vt=e(this).innerHeight();mt=vt/3;W.css(L,vt);ot.css(L,vt);xt();Nt(mt)});H.scroll(function(){Tt()});nt.on("load",function(){xt()});Nt(mt)})(jQuery,window,document);