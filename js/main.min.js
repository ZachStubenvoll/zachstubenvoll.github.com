(function(e,t,n){"use strict";function yt(){var t=300;U.css("top",pt);it.css("top",pt);vt=Math.floor(U.offset().top+U.outerHeight(!0)-100);U.attr(S,vt);mt=Math.floor(U.offset().top);z.attr(E,mt);Y.each(function(n){var r=e(this),i=r.attr(b),s=r.find(c);r.css("z-index",t++);r.attr(E,Math.floor(r.offset().top)-42);r.attr(S,parseInt(r.attr(E),10)+parseInt(r.outerHeight(!0),10));s.each(function(){var t=e(this),n=t.find(y);t.attr(E,Math.floor(t.offset().top)-62);t.attr(S,parseInt(t.attr(E),10)+parseInt(t.outerHeight(!0),10))})})}function bt(){gt=D.scrollTop();gt=gt?gt:0;gt>=z.attr(E)&&U.attr(S)>=gt?z.addClass(C).removeClass(r):gt>=z.attr(E)&&U.attr(S)<=gt?z.addClass(C).addClass(r):z.removeClass(r).removeClass(C);Y.each(function(){var t=e(this),n=t.find(c),r=t.find(g),i=r.text(),o=t.attr(E),u=t.attr(S),a=n.eq(0).text();if(nt!==i){if(gt>=o&&u>=gt){nt=i;rt=a;W.text(i);X.text(a);return!1}}else n.each(function(){var t=e(this),n=t.attr(E),r=t.attr(S),i=t.find(h),o=i.text();if(rt!==o&&gt>=n&&r>=gt){rt=o;X.text(o).addClass(s);setTimeout(function(){X.removeClass(s)},500);return!1}})})}function wt(t){var n=D.innerWidth(),r=I.find(w),i=V.find(w),s='<li id="logo" data-project="contact"><a href="#contact" title="Zach Stubenvoll" id="zach">Zach Stubenvoll</a><a href="mailto:zachstubenvoll@me.com" title="For Hire" id="for-hire"><b>For Hire</b></a></li>';if(r.length<=0&&i.length<=0){Y.each(function(t){var n=e(this),r=n.attr(b),i=n.find(c),s=n.find(g),o=s.text(),u=s.attr("nav-title"),a=u!==undefined?u:s.text();n.attr(E,Math.floor(n.offset().top)-42);n.attr(S,n.attr(E)+n.outerHeight(!0));I.append('<li data-project="'+r+'"><a href="#'+r+'" title="'+a+'">'+o+"</a></li>");V.append('<li data-project="'+r+'"><a href="#'+r+'" title="'+a+'">'+a+"</a></li>")});I.find(w).eq(4).before(s)}if(n>767){I.find(w).css({height:t+x});ot.css({height:t-t/3+x});ut.css(d,t-t/3+50+x);at.css(d,t-50+x);F.addClass(N);st.addClass(N);U.removeClass(v);it.removeClass(v);tt.each(function(){var t=e(this);t.find("b").length||t.append("<b>close</b>")})}else{ht.css(d,o);ut.css(d,o);at.css(d,o)}}function Et(n){var r=e(p+n),i=r.offset().top;B.animate({scrollTop:i},300);bt();try{t._gaq.push([L,O,A,n.attr(b)])}catch(s){}}var r="about",i="alt",s="animate",o="auto",u="b",a=": ",f="contact",l="div",c="figure",h="figcaption",p="#",d="height",v="hide",m="href",g="h2",y="img",b="id",w="li",E="data-offset-top",S="data-offset-bottom",x="px",T="data-project",N="show",C="stay",k="ul",L="_trackEvent",A="Scroll to section",O="Zach Stubenvoll",M=function(){},_=t.console||{log:M,warn:M,error:M},D=e(t),P=e("html"),H=e("body"),B=P.add(H),j=e("nav"),F=e("#main-nav"),I=F.find("ul"),q=e("#zach"),R=I.find("li"),U=e("#main"),z=U.find("#main-header"),W=z.find("h2 b"),X=z.find("h2 strong"),V=z.find("h2 ul"),$=V.find("li"),J=e("#contact-me"),K=z.find("h1"),Q=z.find("h2 i"),G=J.find("i"),Y=U.find("ol li"),Z=Y.find("h2"),et=Y.find("img"),tt=Y.find("article"),nt="",rt="",it=e("#contact"),st=it.find("#contact-nav"),ot=st.find("li"),ut=it.find("#footer-header"),at=it.find("p"),ft=it.find("#credits"),lt=ft.find("i"),ct=e("#party-mode"),ht=j.find("li"),pt=t.innerHeight,dt=pt/3,vt,mt,gt=0;lt.click(function(){ct.addClass(N)});ct.click(function(){e(this).removeClass(N)});G.click(function(e){e.preventDefault();Et(f)});Q.click(function(t){t.preventDefault();e(this).parent().find(k).toggleClass(N)});K.click(function(e){e.preventDefault();B.animate({scrollTop:0},600)});J.click(function(e){e.preventDefault();Et(f)});V.on("click",w,function(t){var n=e(this);t.preventDefault();n.closest(k).toggleClass(N);Et(n.attr(T))});F.on("click","a",function(t){var n=e(this);if(n.attr(b)!=="for-hire"){t.preventDefault();Et(n.closest(w).attr(T))}});q.on("click",w,function(e){e.preventDefault();Et(f)});tt.on("click","b",function(){e(this).closest("article").removeClass(N)});et.click(function(){e(this).find("+ article").addClass(N)});Z.click(function(){var t=e(this),n=t.closest(w).find(c);t.toggleClass(N);n.each(function(){var t=e(this);t.toggleClass(N)})});D.resize(function(){pt=e(this).innerHeight();dt=pt/3;U.css("top",pt);it.css("top",pt);yt();wt(dt)});D.scroll(function(){bt()});et.on("load",function(){yt()});wt(dt)})(jQuery,window,document);